# SweetsShipStrike ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆæ›¸

## ğŸ“‹ ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæƒ…å ±
- **ä½œæˆæ—¥**: 2025å¹´10æœˆ31æ—¥
- **ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0
- **å¯¾è±¡**: SweetsShipStrike Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
- **é–‹ç™ºæœŸé–“**: ç´„1ãƒ¶æœˆ

---

## ğŸ¯ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå
**SweetsShipStrikeï¼ˆã‚¹ã‚¤ãƒ¼ãƒ„ã‚·ãƒƒãƒ—ã‚¹ãƒˆãƒ©ã‚¤ã‚¯ï¼‰**

### ã‚³ãƒ³ã‚»ãƒ—ãƒˆ
ãƒãƒˆãƒ«ã‚·ãƒƒãƒ—ã®ã‚²ãƒ¼ãƒ ã‚·ã‚¹ãƒ†ãƒ ã‚’ãƒ™ãƒ¼ã‚¹ã«ã€ã‚¹ã‚¤ãƒ¼ãƒ„æ“¬äººåŒ–ã®ä¸–ç•Œè¦³ã§å¯¾æˆ¦ã™ã‚‹Webã‚²ãƒ¼ãƒ 

### ä¸»è¦æ©Ÿèƒ½
- ã‚ªãƒ³ãƒ©ã‚¤ãƒ³å¯¾æˆ¦ï¼ˆP2Pé€šä¿¡ï¼‰
- CPUå¯¾æˆ¦
- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é¸æŠï¼ˆ4ç¨®é¡ï¼‰
- ä¹—ã‚Šç‰©é…ç½®ï¼ˆ4éš»å›ºå®šç·¨æˆï¼‰
- ã‚¿ãƒ¼ãƒ³åˆ¶ãƒãƒˆãƒ«
- ã‚¹ã‚­ãƒ«ã‚·ã‚¹ãƒ†ãƒ 

---

## ğŸ› ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
```
- Framework: Next.js 14 (App Router)
- Language: TypeScript
- Styling: Tailwind CSS
- Animation: Framer Motion
- Sound: Howler.js
- State Management: Zustand
```

### P2Pé€šä¿¡
```
- Library: PeerJS (WebRTC wrapper)
- Signaling Server: PeerServer on Render (ç„¡æ–™ãƒ—ãƒ©ãƒ³)
```

### ãƒ‡ãƒ—ãƒ­ã‚¤
```
- Frontend: Vercel
- Signaling Server: Render
```

### é–‹ç™ºãƒ„ãƒ¼ãƒ«
```
- Package Manager: npm / yarn
- Linter: ESLint
- Formatter: Prettier
- Version Control: Git / GitHub
```

---

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
sweets-ship-strike/
â”œâ”€â”€ public/
â”‚   â””â”€â”€ assets/
â”‚       â”œâ”€â”€ images/
â”‚       â”‚   â”œâ”€â”€ characters/           # ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼å…¨èº«ç”»åƒï¼ˆ7æšï¼‰
â”‚       â”‚   â”‚   â”œâ”€â”€ strawberry_fullbody.png
â”‚       â”‚   â”‚   â”œâ”€â”€ chocolate_fullbody.png
â”‚       â”‚   â”‚   â”œâ”€â”€ macaron_fullbody.png
â”‚       â”‚   â”‚   â”œâ”€â”€ pudding_fullbody.png
â”‚       â”‚   â”‚   â”œâ”€â”€ cpu_easy_fullbody.png     # CPUå°‚ç”¨ï¼ˆã‚ˆã‚ã„ï¼‰
â”‚       â”‚   â”‚   â”œâ”€â”€ cpu_normal_fullbody.png   # CPUå°‚ç”¨ï¼ˆãµã¤ã†ï¼‰
â”‚       â”‚   â”‚   â””â”€â”€ cpu_hard_fullbody.png     # CPUå°‚ç”¨ï¼ˆã¤ã‚ˆã„ï¼‰
â”‚       â”‚   â”œâ”€â”€ characters_topview/   # ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼çœŸä¸Šç”»åƒï¼ˆ7æšï¼‰
â”‚       â”‚   â”‚   â”œâ”€â”€ strawberry_topview.png
â”‚       â”‚   â”‚   â”œâ”€â”€ chocolate_topview.png
â”‚       â”‚   â”‚   â”œâ”€â”€ macaron_topview.png
â”‚       â”‚   â”‚   â”œâ”€â”€ pudding_topview.png
â”‚       â”‚   â”‚   â”œâ”€â”€ cpu_easy_topview.png
â”‚       â”‚   â”‚   â”œâ”€â”€ cpu_normal_topview.png
â”‚       â”‚   â”‚   â””â”€â”€ cpu_hard_topview.png
â”‚       â”‚   â”œâ”€â”€ ships/                # ä¹—ã‚Šç‰©çœŸä¸Šç”»åƒï¼ˆ4æšï¼‰
â”‚       â”‚   â”‚   â”œâ”€â”€ strawberry_boat.png
â”‚       â”‚   â”‚   â”œâ”€â”€ cocoa_submarine.png
â”‚       â”‚   â”‚   â”œâ”€â”€ macaron_ufo.png
â”‚       â”‚   â”‚   â””â”€â”€ waffle_ship.png
â”‚       â”‚   â”œâ”€â”€ effects/              # ã‚¨ãƒ•ã‚§ã‚¯ãƒˆç”»åƒ
â”‚       â”‚   â”‚   â”œâ”€â”€ hit.png
â”‚       â”‚   â”‚   â”œâ”€â”€ miss.png
â”‚       â”‚   â”‚   â”œâ”€â”€ sink.png
â”‚       â”‚   â”‚   â””â”€â”€ skill_effects/    # ã‚¹ã‚­ãƒ«ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ
â”‚       â”‚   â”œâ”€â”€ ui/                   # UIãƒ‘ãƒ¼ãƒ„
â”‚       â”‚   â”‚   â”œâ”€â”€ button_normal.png
â”‚       â”‚   â”‚   â”œâ”€â”€ button_hover.png
â”‚       â”‚   â”‚   â””â”€â”€ board_bg.png
â”‚       â”‚   â””â”€â”€ backgrounds/          # èƒŒæ™¯ç”»åƒ
â”‚       â”‚       â”œâ”€â”€ title_bg.png
â”‚       â”‚       â””â”€â”€ game_bg.png
â”‚       â””â”€â”€ sounds/
â”‚           â”œâ”€â”€ bgm/
â”‚           â”‚   â”œâ”€â”€ title.mp3
â”‚           â”‚   â””â”€â”€ battle.mp3
â”‚           â”œâ”€â”€ se/
â”‚           â”‚   â”œâ”€â”€ click.mp3
â”‚           â”‚   â”œâ”€â”€ hit.mp3
â”‚           â”‚   â”œâ”€â”€ miss.mp3
â”‚           â”‚   â”œâ”€â”€ sink.mp3
â”‚           â”‚   â”œâ”€â”€ skill_use.mp3
â”‚           â”‚   â””â”€â”€ win.mp3
â”‚           â””â”€â”€ voice/                # å°†æ¥çš„ã«è¿½åŠ 
â”‚               â””â”€â”€ (placeholder)
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                          # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ page.tsx                  # ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ï¼ˆã‚¿ã‚¤ãƒˆãƒ«ç”»é¢ï¼‰
â”‚   â”‚   â”œâ”€â”€ layout.tsx                # ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”‚   â”œâ”€â”€ mode-select/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx              # ãƒ¢ãƒ¼ãƒ‰é¸æŠç”»é¢
â”‚   â”‚   â”œâ”€â”€ character-select/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx              # ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é¸æŠç”»é¢
â”‚   â”‚   â”œâ”€â”€ online-lobby/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx              # ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ãƒ­ãƒ“ãƒ¼ç”»é¢
â”‚   â”‚   â”œâ”€â”€ game/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx              # ã‚²ãƒ¼ãƒ ç”»é¢ï¼ˆãƒ¡ã‚¤ãƒ³ï¼‰
â”‚   â”‚   â””â”€â”€ result/
â”‚   â”‚       â””â”€â”€ page.tsx              # çµæœç”»é¢
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ layouts/
â”‚   â”‚   â”‚   â”œâ”€â”€ Header.tsx
â”‚   â”‚   â”‚   â””â”€â”€ Footer.tsx
â”‚   â”‚   â”œâ”€â”€ game/
â”‚   â”‚   â”‚   â”œâ”€â”€ Board.tsx             # ã‚²ãƒ¼ãƒ ãƒœãƒ¼ãƒ‰å…¨ä½“
â”‚   â”‚   â”‚   â”œâ”€â”€ Cell.tsx              # å€‹åˆ¥ã®ãƒã‚¹
â”‚   â”‚   â”‚   â”œâ”€â”€ Ship.tsx              # ä¹—ã‚Šç‰©ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ ShipPlacer.tsx        # é…ç½®ãƒ•ã‚§ãƒ¼ã‚ºUI
â”‚   â”‚   â”‚   â”œâ”€â”€ HUD.tsx               # HPè¡¨ç¤ºãƒ»ã‚¿ãƒ¼ãƒ³è¡¨ç¤º
â”‚   â”‚   â”‚   â”œâ”€â”€ SkillPanel.tsx        # ã‚¹ã‚­ãƒ«ãƒœã‚¿ãƒ³
â”‚   â”‚   â”‚   â””â”€â”€ TurnIndicator.tsx     # ã‚¿ãƒ¼ãƒ³è¡¨ç¤º
â”‚   â”‚   â”œâ”€â”€ ui/
â”‚   â”‚   â”‚   â”œâ”€â”€ Button.tsx            # æ±ç”¨ãƒœã‚¿ãƒ³
â”‚   â”‚   â”‚   â”œâ”€â”€ Modal.tsx             # ãƒ¢ãƒ¼ãƒ€ãƒ«
â”‚   â”‚   â”‚   â”œâ”€â”€ Timer.tsx             # ã‚¿ã‚¤ãƒãƒ¼è¡¨ç¤º
â”‚   â”‚   â”‚   â””â”€â”€ LoadingSpinner.tsx    # ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°
â”‚   â”‚   â”œâ”€â”€ effects/
â”‚   â”‚   â”‚   â”œâ”€â”€ HitEffect.tsx         # å‘½ä¸­ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ MissEffect.tsx        # ãƒŸã‚¹ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ SinkEffect.tsx        # æ’ƒæ²ˆã‚¨ãƒ•ã‚§ã‚¯ãƒˆ
â”‚   â”‚   â”‚   â””â”€â”€ SkillEffect.tsx       # ã‚¹ã‚­ãƒ«ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ
â”‚   â”‚   â””â”€â”€ character/
â”‚   â”‚       â”œâ”€â”€ CharacterCard.tsx     # ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é¸æŠã‚«ãƒ¼ãƒ‰
â”‚   â”‚       â””â”€â”€ CharacterPortrait.tsx # å¯¾æˆ¦ä¸­ã®ã‚­ãƒ£ãƒ©ç«‹ã¡çµµ
â”‚   â”‚   â”œâ”€â”€ reward/
â”‚   â”‚   â”‚   â”œâ”€â”€ CoinRewardDisplay.tsx # ã‚³ã‚¤ãƒ³ç²å¾—æ¼”å‡º
â”‚   â”‚   â”‚   â”œâ”€â”€ TitleUnlockModal.tsx  # ç§°å·ç²å¾—ãƒ¢ãƒ¼ãƒ€ãƒ«
â”‚   â”‚   â”‚   â”œâ”€â”€ ShopItem.tsx          # ã‚·ãƒ§ãƒƒãƒ—ã‚¢ã‚¤ãƒ†ãƒ ã‚«ãƒ¼ãƒ‰
â”‚   â”‚   â”‚   â”œâ”€â”€ StatsDisplay.tsx      # çµ±è¨ˆè¡¨ç¤º
â”‚   â”‚   â”‚   â””â”€â”€ TitleBadge.tsx        # ç§°å·ãƒãƒƒã‚¸è¡¨ç¤º
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ game/
â”‚   â”‚   â”‚   â”œâ”€â”€ gameLogic.ts          # ã‚²ãƒ¼ãƒ ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆè©³ç´°ã¯åˆ¥ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ ships.ts              # ä¹—ã‚Šç‰©å®šç¾©
â”‚   â”‚   â”‚   â”œâ”€â”€ characters.ts         # ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼å®šç¾©
â”‚   â”‚   â”‚   â”œâ”€â”€ skills.ts             # ã‚¹ã‚­ãƒ«å®šç¾©ãƒ»å®Ÿè¡Œ
â”‚   â”‚   â”‚   â”œâ”€â”€ board.ts              # ãƒœãƒ¼ãƒ‰æ“ä½œ
â”‚   â”‚   â”‚   â””â”€â”€ validation.ts         # ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”‚   â”œâ”€â”€ reward/
â”‚   â”‚   â”‚   â”œâ”€â”€ coinCalculator.ts     # ã‚³ã‚¤ãƒ³å ±é…¬è¨ˆç®—
â”‚   â”‚   â”‚   â”œâ”€â”€ titleManager.ts       # ç§°å·ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ shopManager.ts        # ã‚·ãƒ§ãƒƒãƒ—ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ statsManager.ts       # çµ±è¨ˆç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ definitions/
â”‚   â”‚   â”‚       â”œâ”€â”€ titles.ts          # ç§°å·å®šç¾©
â”‚   â”‚   â”‚       â”œâ”€â”€ skins.ts           # ã‚¹ã‚­ãƒ³å®šç¾©
â”‚   â”‚   â”‚       â””â”€â”€ themes.ts          # ãƒ†ãƒ¼ãƒå®šç¾©ï¼ˆå°†æ¥ï¼‰
â”‚   â”‚   â”œâ”€â”€ p2p/
â”‚   â”‚   â”‚   â”œâ”€â”€ peerConnection.ts     # PeerJSæ¥ç¶šç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ messageHandler.ts     # ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€å—ä¿¡
â”‚   â”‚   â”‚   â””â”€â”€ roomManager.ts        # ãƒ«ãƒ¼ãƒ ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ ai/
â”‚   â”‚   â”‚   â””â”€â”€ cpuPlayer.ts          # CPUæ€è€ƒãƒ«ãƒ¼ãƒãƒ³
â”‚   â”‚   â”œâ”€â”€ sound/
â”‚   â”‚   â”‚   â””â”€â”€ soundManager.ts       # Howler.jsç®¡ç†
â”‚   â”‚   â””â”€â”€ utils/
â”‚   â”‚       â”œâ”€â”€ constants.ts          # å®šæ•°å®šç¾©
â”‚   â”‚       â””â”€â”€ helpers.ts            # ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°
â”‚   â”œâ”€â”€ store/
â”‚   â”‚   â”œâ”€â”€ gameStore.ts              # ã‚²ãƒ¼ãƒ çŠ¶æ…‹ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ uiStore.ts                # UIçŠ¶æ…‹ç®¡ç†
â”‚   â”‚   â””â”€â”€ soundStore.ts             # ã‚µã‚¦ãƒ³ãƒ‰è¨­å®š
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â”œâ”€â”€ game.ts                   # ã‚²ãƒ¼ãƒ é–¢é€£å‹å®šç¾©
â”‚   â”‚   â”œâ”€â”€ p2p.ts                    # P2Pé€šä¿¡å‹å®šç¾©
â”‚   â”‚   â””â”€â”€ ui.ts                     # UIé–¢é€£å‹å®šç¾©
â”‚   â””â”€â”€ styles/
â”‚       â””â”€â”€ globals.css               # ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚¿ã‚¤ãƒ«
â”œâ”€â”€ .env.local                        # ç’°å¢ƒå¤‰æ•°ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ï¼‰
â”œâ”€â”€ .env.production                   # ç’°å¢ƒå¤‰æ•°ï¼ˆæœ¬ç•ªï¼‰
â”œâ”€â”€ next.config.js                    # Next.jsè¨­å®š
â”œâ”€â”€ tailwind.config.js                # Tailwindè¨­å®š
â”œâ”€â”€ tsconfig.json                     # TypeScriptè¨­å®š
â”œâ”€â”€ package.json                      # ä¾å­˜é–¢ä¿‚
â””â”€â”€ README.md                         # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆèª¬æ˜
```

---

## ğŸ“Š ãƒ‡ãƒ¼ã‚¿æ§‹é€ å®šç¾©

### å‹å®šç¾©ï¼ˆTypeScriptï¼‰

```typescript
// ========================================
// åŸºæœ¬å‹
// ========================================

/** ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚¿ã‚¤ãƒ— */
type CharacterType = 'strawberry' | 'chocolate' | 'macaron' | 'pudding' | 'cpu_easy' | 'cpu_normal' | 'cpu_hard';

// ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚­ãƒ£ãƒ©: strawberry, chocolate, macaron, pudding
// CPUå°‚ç”¨ã‚­ãƒ£ãƒ©: cpu_easyï¼ˆã‚ˆã‚ã„ï¼‰, cpu_normalï¼ˆãµã¤ã†ï¼‰, cpu_hardï¼ˆã¤ã‚ˆã„ï¼‰

/** ä¹—ã‚Šç‰©ã‚¿ã‚¤ãƒ— */
type ShipType = 'strawberry_boat' | 'cocoa_submarine' | 'macaron_ufo' | 'waffle_ship';

/** æ–¹å‘ */
type Direction = 'horizontal' | 'vertical';

/** ãƒã‚¹ã®çŠ¶æ…‹ */
type CellState = 'empty' | 'miss' | 'hit' | 'sunk';

/** ã‚²ãƒ¼ãƒ ãƒ•ã‚§ãƒ¼ã‚º */
type GamePhase = 'setup' | 'battle' | 'finished';

/** ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼è­˜åˆ¥å­ */
type PlayerId = 'player1' | 'player2';

/** ã‚²ãƒ¼ãƒ ãƒ¢ãƒ¼ãƒ‰ */
type GameMode = 'online' | 'cpu';

/** ã‚¿ãƒ¼ãƒ³ãƒ•ã‚§ãƒ¼ã‚º */
type TurnPhase = 'start' | 'attack' | 'after_hit' | 'skill_select' | 'end';

// ========================================
// åº§æ¨™ãƒ»ä½ç½®
// ========================================

/** åº§æ¨™ */
interface Position {
  x: number; // 0-9
  y: number; // 0-9
}

/** ã‚¨ãƒªã‚¢ï¼ˆã‚¹ã‚­ãƒ«ç”¨ï¼‰ */
interface Area {
  topLeft: Position;
  bottomRight: Position;
}

// ========================================
// ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼
// ========================================

/** ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼å®šç¾© */
interface Character {
  id: CharacterType;
  name: string;
  description: string;
  imageFullBody: string;    // å…¨èº«ç”»åƒãƒ‘ã‚¹
  imageTopView: string;     // çœŸä¸Šç”»åƒãƒ‘ã‚¹
  isPlayable: boolean;      // ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒé¸æŠå¯èƒ½ã‹
  difficulty?: 'easy' | 'normal' | 'hard'; // CPUå°‚ç”¨ã‚­ãƒ£ãƒ©ã®é›£æ˜“åº¦
  // passive: PassiveSkill; // MVPç‰ˆã§ã¯æœªå®Ÿè£…ï¼ˆè¦‹ãŸç›®ã®ã¿ã®é•ã„ï¼‰
}

// MVPç‰ˆã®æ–¹é‡: ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã¯è¦‹ãŸç›®ã®ã¿ã®é•ã„ï¼ˆèƒ½åŠ›å·®ãªã—ï¼‰
// å°†æ¥å®Ÿè£…: ãƒ‘ãƒƒã‚·ãƒ–èƒ½åŠ›ã‚’è¿½åŠ äºˆå®š

// ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æ§‹æˆ:
// - ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼é¸æŠå¯èƒ½: 4äººï¼ˆã‚·ãƒ§ãƒ¼ãƒˆã‚±ãƒ¼ã‚­ã€ãƒãƒ§ã‚³ãƒ¬ãƒ¼ãƒˆã€ãƒã‚«ãƒ­ãƒ³ã€ãƒ—ãƒªãƒ³ï¼‰
// - CPUå°‚ç”¨: 3äººï¼ˆã‚ˆã‚ã„ã€ãµã¤ã†ã€ã¤ã‚ˆã„ï¼‰
// CPUå¯¾æˆ¦æ™‚ã€ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã¯CPUå°‚ç”¨ã‚­ãƒ£ãƒ©ã‹ã‚‰å¯¾æˆ¦ç›¸æ‰‹ã‚’é¸æŠ

// ========================================
// ä¹—ã‚Šç‰©
// ========================================

/** ä¹—ã‚Šç‰©å®šç¾© */
interface ShipDefinition {
  id: ShipType;
  name: string;
  size: number;             // ãƒã‚¹æ•°
  description: string;
  image: string;            // çœŸä¸Šç”»åƒãƒ‘ã‚¹
  skill: SkillDefinition;   // å°‚ç”¨ã‚¹ã‚­ãƒ«
}

/** é…ç½®æ¸ˆã¿ä¹—ã‚Šç‰© */
interface Ship {
  id: string;                     // ä¸€æ„ã®IDï¼ˆä¾‹: "player1_strawberry_boat"ï¼‰
  type: ShipType;
  size: number;
  position: Position | null;      // null = æœªé…ç½®
  direction: Direction;
  hits: boolean[];                // [false, false, true] = 3ãƒã‚¹ä¸­1ãƒã‚¹ãŒè¢«å¼¾
  sunk: boolean;                  // æ’ƒæ²ˆæ¸ˆã¿ã‹
  skillUsed: boolean;             // ã‚¹ã‚­ãƒ«ä½¿ç”¨æ¸ˆã¿ã‹
}

// ========================================
// ã‚¹ã‚­ãƒ«
// ========================================

/** ã‚¹ã‚­ãƒ«å®šç¾© */
interface SkillDefinition {
  id: string;
  name: string;
  description: string;
  type: 'attack' | 'defense' | 'utility' | 'scan';
  icon?: string;
}

/** ã‚¹ã‚­ãƒ«ä½¿ç”¨ãƒ‡ãƒ¼ã‚¿ */
interface SkillUseData {
  skillId: string;
  shipId: string;           // ã©ã®ä¹—ã‚Šç‰©ã®ã‚¹ã‚­ãƒ«ã‹
  target?: Position;        // å¯¾è±¡åº§æ¨™ï¼ˆã‚¹ã‚­ãƒ«ã«ã‚ˆã‚‹ï¼‰
  area?: Area;              // å¯¾è±¡ã‚¨ãƒªã‚¢ï¼ˆã‚¹ã‚­ãƒ«ã«ã‚ˆã‚‹ï¼‰
  line?: 'row' | 'col';     // ã‚¹ã‚­ãƒ£ãƒ³ç”¨ï¼ˆç¸¦ or æ¨ªï¼‰
  lineIndex?: number;       // ã‚¹ã‚­ãƒ£ãƒ³ç”¨ï¼ˆä½•åˆ—ç›® / ä½•è¡Œç›®ï¼‰
}

// ========================================
// ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼
// ========================================

/** ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼çŠ¶æ…‹ */
interface PlayerState {
  id: PlayerId;
  character: CharacterType;
  ships: Ship[];                  // 4éš»
  board: CellState[][];           // 10x10ã®ãƒã‚¹çŠ¶æ…‹
  hp: number;                     // æ®‹ä½“åŠ›ãƒ‘ãƒ¼ã‚»ãƒ³ãƒ†ãƒ¼ã‚¸ï¼ˆ0-100ï¼‰
  remainingMasses: number;        // æ®‹å­˜ãƒã‚¹æ•°
  totalMasses: number;            // ç·ãƒã‚¹æ•°ï¼ˆ14ï¼‰
  shieldActive: boolean;          // ã‚·ãƒ¼ãƒ«ãƒ‰ç™ºå‹•ä¸­ã‹
  activeSkills: string[];         // ä½¿ç”¨æ¸ˆã¿ã‚¹ã‚­ãƒ«IDé…åˆ—
  isReady: boolean;               // é…ç½®å®Œäº†ã—ãŸã‹
}

// ========================================
// ã‚²ãƒ¼ãƒ çŠ¶æ…‹
// ========================================

/** ã‚²ãƒ¼ãƒ å…¨ä½“ã®çŠ¶æ…‹ */
interface GameState {
  gameId: string;                 // ã‚²ãƒ¼ãƒ IDï¼ˆP2Pç”¨ï¼‰
  mode: GameMode;                 // ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ or CPU
  phase: GamePhase;               // setup / battle / finished
  turnPhase: TurnPhase;           // ã‚¿ãƒ¼ãƒ³å†…ã®ãƒ•ã‚§ãƒ¼ã‚º
  currentTurn: PlayerId;          // ç¾åœ¨ã®ã‚¿ãƒ¼ãƒ³
  players: {
    player1: PlayerState;
    player2: PlayerState;
  };
  attackedCells: {                // æ”»æ’ƒæ¸ˆã¿ãƒã‚¹ï¼ˆé‡è¤‡æ”»æ’ƒé˜²æ­¢ï¼‰
    player1: Set<string>;         // "x-y" å½¢å¼
    player2: Set<string>;
  };
  winner: PlayerId | null;
  turnCount: number;              // ã‚¿ãƒ¼ãƒ³æ•°
  lastAction?: GameAction;        // æœ€å¾Œã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
  setupTimer?: number;            // é…ç½®ãƒ•ã‚§ãƒ¼ã‚ºã®æ®‹ã‚Šæ™‚é–“ï¼ˆç§’ï¼‰
}

// ========================================
// ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
// ========================================

/** ã‚²ãƒ¼ãƒ ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆP2Pé€šä¿¡ã§é€å—ä¿¡ï¼‰ */
interface GameAction {
  type: 'attack' | 'useSkill' | 'placeShip' | 'ready' | 'endTurn' | 'requestRematch';
  playerId: PlayerId;
  timestamp: number;
  data: ActionData;
}

/** ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ‡ãƒ¼ã‚¿ */
type ActionData =
  | AttackActionData
  | SkillActionData
  | PlaceShipActionData
  | ReadyActionData
  | EndTurnActionData;

interface AttackActionData {
  position: Position;
}

interface SkillActionData {
  skillUse: SkillUseData;
}

interface PlaceShipActionData {
  shipId: string;
  position: Position;
  direction: Direction;
}

interface ReadyActionData {
  // é…ç½®å®Œäº†é€šçŸ¥ï¼ˆãƒ‡ãƒ¼ã‚¿ãªã—ï¼‰
}

interface EndTurnActionData {
  // ã‚¿ãƒ¼ãƒ³çµ‚äº†é€šçŸ¥ï¼ˆãƒ‡ãƒ¼ã‚¿ãªã—ï¼‰
}

// ========================================
// æ”»æ’ƒçµæœ
// ========================================

/** æ”»æ’ƒçµæœ */
interface AttackResult {
  result: 'hit' | 'miss' | 'sunk' | 'blocked';
  position: Position;
  shipId?: string;          // ãƒ’ãƒƒãƒˆæ™‚ã€ã©ã®ä¹—ã‚Šç‰©ã«å½“ãŸã£ãŸã‹
  shipType?: ShipType;      // ãƒ’ãƒƒãƒˆæ™‚ã€ã©ã®ä¹—ã‚Šç‰©ã‚¿ã‚¤ãƒ—ã‹
  message?: string;         // çµæœãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
  canContinue: boolean;     // é€£ç¶šæ”»æ’ƒå¯èƒ½ã‹
}

// ========================================
// ã‚¹ã‚­ãƒ«çµæœ
// ========================================

/** ã‚¹ã‚­ãƒ«å®Ÿè¡Œçµæœ */
interface SkillResult {
  success: boolean;
  effect: string;           // åŠ¹æœã®èª¬æ˜
  data?: any;               // ã‚¹ã‚­ãƒ«ã”ã¨ã®çµæœãƒ‡ãƒ¼ã‚¿
}

// ========================================
// UIçŠ¶æ…‹
// ========================================

/** UIçŠ¶æ…‹ */
interface UIState {
  isLoading: boolean;
  currentModal: ModalType | null;
  notification: Notification | null;
  selectedCell: Position | null;
  selectedShipForPlacement: ShipType | null;
  hoveredCell: Position | null;
}

type ModalType = 'pause' | 'settings' | 'skillConfirm' | 'rematch';

interface Notification {
  message: string;
  type: 'info' | 'success' | 'error' | 'warning';
  duration: number; // ms
}

// ========================================
// P2Pé€šä¿¡
// ========================================

/** P2Pæ¥ç¶šçŠ¶æ…‹ */
interface P2PConnection {
  peerId: string | null;        // è‡ªåˆ†ã®PeerID
  opponentId: string | null;    // ç›¸æ‰‹ã®PeerID
  connection: any | null;       // PeerJS DataConnection
  isConnected: boolean;
  isHost: boolean;              // ãƒ›ã‚¹ãƒˆã‹ã©ã†ã‹
}

/** P2Pãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ */
interface P2PMessage {
  type: 'gameAction' | 'ping' | 'pong' | 'sync' | 'disconnect';
  payload: any;
  timestamp: number;
}

// ========================================
// ã‚µã‚¦ãƒ³ãƒ‰
// ========================================

/** ã‚µã‚¦ãƒ³ãƒ‰è¨­å®š */
interface SoundSettings {
  bgmVolume: number;    // 0-1
  seVolume: number;     // 0-1
  bgmEnabled: boolean;
  seEnabled: boolean;
}

// ========================================
// å ±é…¬ã‚·ã‚¹ãƒ†ãƒ 
// ========================================

/** ç§°å· */
interface Title {
  id: string;
  name: string;
  description: string;
  condition: string;        // æ¡ä»¶ã®èª¬æ˜
  icon?: string;            // ã‚¢ã‚¤ã‚³ãƒ³ç”»åƒãƒ‘ã‚¹
  rarity: 'common' | 'rare' | 'epic' | 'legendary';
  isUnlocked: boolean;
}

/** ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚¹ã‚­ãƒ³ */
interface CharacterSkin {
  id: string;
  characterType: CharacterType;
  name: string;
  description: string;
  price: number;            // ã‚¹ã‚¤ãƒ¼ãƒ„ã‚³ã‚¤ãƒ³
  rarity: 'common' | 'rare' | 'epic' | 'legendary';
  imageFullBody: string;    // å…¨èº«ç”»åƒãƒ‘ã‚¹
  imageTopView: string;     // çœŸä¸Šç”»åƒãƒ‘ã‚¹
  isOwned: boolean;
}

/** ä¹—ã‚Šç‰©ã‚¹ã‚­ãƒ³ï¼ˆå°†æ¥å®Ÿè£…ç”¨ï¼‰ */
interface ShipSkin {
  id: string;
  shipType: ShipType;
  name: string;
  description: string;
  price: number;
  rarity: 'common' | 'rare' | 'epic' | 'legendary';
  image: string;
  isOwned: boolean;
}

/** ãƒœãƒ¼ãƒ‰ãƒ†ãƒ¼ãƒï¼ˆå°†æ¥å®Ÿè£…ç”¨ï¼‰ */
interface BoardTheme {
  id: string;
  name: string;
  description: string;
  price: number;
  bgImage: string;           // èƒŒæ™¯ç”»åƒ
  cellColor: string;         // ãƒã‚¹ã®è‰²
  hitEffectColor: string;    // ãƒ’ãƒƒãƒˆã‚¨ãƒ•ã‚§ã‚¯ãƒˆã®è‰²
  missEffectColor: string;   // ãƒŸã‚¹ã‚¨ãƒ•ã‚§ã‚¯ãƒˆã®è‰²
  isOwned: boolean;
}

/** ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼çµ±è¨ˆ */
interface PlayerStats {
  // åŸºæœ¬çµ±è¨ˆ
  totalGames: number;           // ç·å¯¾æˆ¦æ•°
  totalWins: number;            // ç·å‹åˆ©æ•°
  totalLosses: number;          // ç·æ•—åŒ—æ•°
  winRate: number;              // å‹ç‡
  currentWinStreak: number;     // ç¾åœ¨ã®é€£å‹æ•°
  maxWinStreak: number;         // æœ€é«˜é€£å‹æ•°
  
  // ãƒ¢ãƒ¼ãƒ‰åˆ¥çµ±è¨ˆ
  onlineWins: number;
  onlineLosses: number;
  cpuWins: number;
  cpuLosses: number;
  
  // è©³ç´°çµ±è¨ˆï¼ˆå°†æ¥å®Ÿè£…ç”¨ï¼‰
  totalAttacks: number;         // ç·æ”»æ’ƒå›æ•°
  totalHits: number;            // ç·ãƒ’ãƒƒãƒˆæ•°
  hitRate: number;              // å‘½ä¸­ç‡
  totalShipsSunk: number;       // ç·æ’ƒæ²ˆæ•°
  totalSkillsUsed: number;      // ç·ã‚¹ã‚­ãƒ«ä½¿ç”¨å›æ•°
  
  // ç‰¹æ®Šè¨˜éŒ²
  fastestWin: number;           // æœ€é€Ÿå‹åˆ©ï¼ˆã‚¿ãƒ¼ãƒ³æ•°ï¼‰
  perfectWins: number;          // å®Œå…¨å‹åˆ©å›æ•°ï¼ˆè¢«å¼¾0ï¼‰
  comebackWins: number;         // é€†è»¢å‹åˆ©å›æ•°ï¼ˆHP30%ä»¥ä¸‹ã‹ã‚‰ï¼‰
  
  // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼åˆ¥çµ±è¨ˆï¼ˆå°†æ¥å®Ÿè£…ç”¨ï¼‰
  characterStats: {
    [key in CharacterType]: {
      gamesPlayed: number;
      wins: number;
      losses: number;
    }
  };
  
  // çµŒæ¸ˆ
  totalCoinsEarned: number;     // ç´¯è¨ˆç²å¾—ã‚³ã‚¤ãƒ³
  totalCoinsSpent: number;      // ç´¯è¨ˆä½¿ç”¨ã‚³ã‚¤ãƒ³
  currentCoins: number;         // ç¾åœ¨ã®æ‰€æŒã‚³ã‚¤ãƒ³
  
  // æ‰€æŒå“
  ownedSkins: string[];         // æ‰€æŒã‚¹ã‚­ãƒ³IDé…åˆ—
  ownedThemes: string[];        // æ‰€æŒãƒ†ãƒ¼ãƒIDé…åˆ—ï¼ˆå°†æ¥å®Ÿè£…ç”¨ï¼‰
  ownedEffects: string[];       // æ‰€æŒã‚¨ãƒ•ã‚§ã‚¯ãƒˆIDé…åˆ—ï¼ˆå°†æ¥å®Ÿè£…ç”¨ï¼‰
  unlockedTitles: string[];     // è§£æ”¾æ¸ˆã¿ç§°å·IDé…åˆ—
  
  // è£…å‚™ä¸­
  selectedTitle: string | null; // è£…å‚™ä¸­ã®ç§°å·ID
  selectedSkin: {               // è£…å‚™ä¸­ã®ã‚¹ã‚­ãƒ³IDï¼ˆã‚­ãƒ£ãƒ©ã”ã¨ï¼‰
    [key in CharacterType]?: string;
  };
  selectedTheme: string;        // è£…å‚™ä¸­ã®ãƒ†ãƒ¼ãƒIDï¼ˆå°†æ¥å®Ÿè£…ç”¨ï¼‰
  selectedEffect: string;       // è£…å‚™ä¸­ã®ã‚¨ãƒ•ã‚§ã‚¯ãƒˆIDï¼ˆå°†æ¥å®Ÿè£…ç”¨ï¼‰
}

/** ã‚²ãƒ¼ãƒ çµæœ */
interface GameResult {
  winner: PlayerId;
  mode: GameMode;
  turnCount: number;
  perfectWin: boolean;          // è¢«å¼¾0ã§ã®å‹åˆ©
  usedAllSkills: boolean;       // å…¨ã‚¹ã‚­ãƒ«ä½¿ç”¨
  comebackWin: boolean;         // HP30%ä»¥ä¸‹ã‹ã‚‰ã®é€†è»¢
  fastWin: boolean;             // 10ã‚¿ãƒ¼ãƒ³ä»¥å†…ã®å‹åˆ©
  character: CharacterType;     // ä½¿ç”¨ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼
}

/** ã‚³ã‚¤ãƒ³ç²å¾—å ±é…¬ */
interface CoinReward {
  baseReward: number;           // åŸºæœ¬å ±é…¬
  bonuses: {
    type: string;               // ãƒœãƒ¼ãƒŠã‚¹ç¨®é¡
    amount: number;             // ãƒœãƒ¼ãƒŠã‚¹é¡
    description: string;        // èª¬æ˜
  }[];
  total: number;                // åˆè¨ˆ
}
```

---

## ğŸ¨ ç”»é¢è¨­è¨ˆ

### ç”»é¢ä¸€è¦§

1. **ã‚¿ã‚¤ãƒˆãƒ«ç”»é¢** (`/`)
2. **ãƒ¢ãƒ¼ãƒ‰é¸æŠç”»é¢** (`/mode-select`)
3. **ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é¸æŠç”»é¢** (`/character-select`)
4. **ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ãƒ­ãƒ“ãƒ¼ç”»é¢** (`/online-lobby`)
5. **ã‚²ãƒ¼ãƒ ç”»é¢** (`/game`)
6. **çµæœç”»é¢** (`/result`)
7. **ã‚·ãƒ§ãƒƒãƒ—ç”»é¢** (`/shop`) â€»MVPæ‹¡å¼µç‰ˆ
8. **ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»é¢** (`/profile`) â€»MVPæ‹¡å¼µç‰ˆ

---

### 1. ã‚¿ã‚¤ãƒˆãƒ«ç”»é¢ (`/`)

#### æ¦‚è¦
ã‚²ãƒ¼ãƒ ã®é¡”ã¨ãªã‚‹ç”»é¢ã€‚ã‚¿ã‚¤ãƒˆãƒ«ãƒ­ã‚´ã€ã‚¹ã‚¿ãƒ¼ãƒˆãƒœã‚¿ãƒ³ã‚’è¡¨ç¤ºã€‚

#### UIè¦ç´ 
- ã‚¿ã‚¤ãƒˆãƒ«ãƒ­ã‚´ï¼ˆå¤§ï¼‰
- ã€Œã‚¹ã‚¿ãƒ¼ãƒˆã€ãƒœã‚¿ãƒ³ â†’ ãƒ¢ãƒ¼ãƒ‰é¸æŠç”»é¢ã¸
- ã€Œã‚·ãƒ§ãƒƒãƒ—ã€ãƒœã‚¿ãƒ³ â†’ ã‚·ãƒ§ãƒƒãƒ—ç”»é¢ã¸ â€»MVPæ‹¡å¼µç‰ˆ
- ã€Œãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã€ãƒœã‚¿ãƒ³ â†’ ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»é¢ã¸ â€»MVPæ‹¡å¼µç‰ˆ
- ã€Œè¨­å®šã€ãƒœã‚¿ãƒ³ â†’ ã‚µã‚¦ãƒ³ãƒ‰è¨­å®šãƒ¢ãƒ¼ãƒ€ãƒ«
- æ‰€æŒã‚³ã‚¤ãƒ³è¡¨ç¤ºï¼ˆå³ä¸Šï¼‰ğŸª™ 1,250 â€»MVPæ‹¡å¼µç‰ˆ
- BGMå†ç”Ÿ

#### é·ç§»
- ã‚¹ã‚¿ãƒ¼ãƒˆ â†’ `/mode-select`
- ã‚·ãƒ§ãƒƒãƒ— â†’ `/shop`
- ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ« â†’ `/profile`

---

### 2. ãƒ¢ãƒ¼ãƒ‰é¸æŠç”»é¢ (`/mode-select`)

#### æ¦‚è¦
ã‚ªãƒ³ãƒ©ã‚¤ãƒ³å¯¾æˆ¦ or CPUå¯¾æˆ¦ã‚’é¸æŠã€‚

#### UIè¦ç´ 
- ã€Œã‚ªãƒ³ãƒ©ã‚¤ãƒ³å¯¾æˆ¦ã€ãƒœã‚¿ãƒ³ â†’ ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ãƒ­ãƒ“ãƒ¼ç”»é¢ã¸
- ã€ŒCPUå¯¾æˆ¦ã€ãƒœã‚¿ãƒ³ â†’ ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é¸æŠç”»é¢ã¸
- ã€Œæˆ»ã‚‹ã€ãƒœã‚¿ãƒ³ â†’ ã‚¿ã‚¤ãƒˆãƒ«ç”»é¢ã¸

#### é·ç§»
- ã‚ªãƒ³ãƒ©ã‚¤ãƒ³å¯¾æˆ¦ â†’ `/online-lobby`
- CPUå¯¾æˆ¦ â†’ `/character-select?mode=cpu`
- æˆ»ã‚‹ â†’ `/`

---

### 3. ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é¸æŠç”»é¢ (`/character-select`)

#### æ¦‚è¦
4äººã®ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‹ã‚‰1äººã‚’é¸æŠã€‚
CPUå¯¾æˆ¦ã®å ´åˆã¯ã€ã•ã‚‰ã«å¯¾æˆ¦ç›¸æ‰‹ï¼ˆCPUï¼‰ã‚‚é¸æŠã€‚

#### UIè¦ç´ 

##### ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚­ãƒ£ãƒ©é¸æŠ
- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚«ãƒ¼ãƒ‰ Ã— 4
  - ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼å…¨èº«ç”»åƒ
  - ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼å
  - èª¬æ˜æ–‡
  - ã€Œé¸æŠã€ãƒœã‚¿ãƒ³

##### CPUå¯¾æˆ¦æ™‚ã®è¿½åŠ UI
- **å¯¾æˆ¦ç›¸æ‰‹é¸æŠã‚»ã‚¯ã‚·ãƒ§ãƒ³**
  - ã€Œå¯¾æˆ¦ç›¸æ‰‹ã‚’é¸ã‚“ã§ãã ã•ã„ã€
  - CPUã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚«ãƒ¼ãƒ‰ Ã— 3
    - ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼å…¨èº«ç”»åƒ
    - ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼å
    - é›£æ˜“åº¦è¡¨ç¤ºï¼ˆâ­ã‚ˆã‚ã„ / â­â­ãµã¤ã† / â­â­â­ã¤ã‚ˆã„ï¼‰
    - èª¬æ˜æ–‡
    - ã€Œé¸æŠã€ãƒœã‚¿ãƒ³

- ã€Œæˆ»ã‚‹ã€ãƒœã‚¿ãƒ³

#### é¸æŠãƒ•ãƒ­ãƒ¼ï¼ˆCPUå¯¾æˆ¦ï¼‰
```
1. ãƒ¢ãƒ¼ãƒ‰é¸æŠã§CPUå¯¾æˆ¦ã‚’é¸æŠ
2. ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é¸æŠç”»é¢ã¸
3. è‡ªåˆ†ã®ã‚­ãƒ£ãƒ©ã‚’é¸æŠ
   â†“
4. å¯¾æˆ¦ç›¸æ‰‹é¸æŠã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã‚‹
5. CPUï¼ˆã‚ˆã‚ã„/ãµã¤ã†/ã¤ã‚ˆã„ï¼‰ã‹ã‚‰1äººé¸æŠ
   â†“
6. ä¸¡æ–¹é¸æŠå®Œäº† â†’ ã‚²ãƒ¼ãƒ ç”»é¢ã¸
```

#### é¸æŠãƒ•ãƒ­ãƒ¼ï¼ˆã‚ªãƒ³ãƒ©ã‚¤ãƒ³å¯¾æˆ¦ï¼‰
```
1. ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ãƒ­ãƒ“ãƒ¼ã§æ¥ç¶šç¢ºç«‹
2. ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é¸æŠç”»é¢ã¸
3. è‡ªåˆ†ã®ã‚­ãƒ£ãƒ©ã‚’é¸æŠ
   â†“ï¼ˆå¯¾æˆ¦ç›¸æ‰‹é¸æŠãªã—ï¼‰
4. é¸æŠå®Œäº† â†’ ç›¸æ‰‹ã‚’å¾…æ©Ÿ
5. ä¸¡è€…é¸æŠå®Œäº† â†’ ã‚²ãƒ¼ãƒ ç”»é¢ã¸
```

#### çŠ¶æ…‹ç®¡ç†
- é¸æŠã•ã‚ŒãŸãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚’ã‚¹ãƒˆã‚¢ã«ä¿å­˜
- CPUå¯¾æˆ¦ã®å ´åˆã€é¸æŠã•ã‚ŒãŸCPUã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚‚ã‚¹ãƒˆã‚¢ã«ä¿å­˜
- ãƒ¢ãƒ¼ãƒ‰ï¼ˆCPU or ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ï¼‰ã‚’ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§åˆ¤åˆ¥

#### é·ç§»
- é¸æŠå®Œäº†å¾Œ â†’ `/game?mode=cpu&player=strawberry&cpu=cpu_easy`
- é¸æŠå®Œäº†å¾Œ â†’ `/game?mode=online&player=strawberry`
- æˆ»ã‚‹ â†’ `/mode-select`

---

### 4. ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ãƒ­ãƒ“ãƒ¼ç”»é¢ (`/online-lobby`)

#### æ¦‚è¦
P2Pæ¥ç¶šã‚’ç¢ºç«‹ã—ã€ç›¸æ‰‹ã‚’å¾…æ©Ÿã€‚URLã§æ‹›å¾…ã€‚

#### UIè¦ç´ 
- **ãƒ›ã‚¹ãƒˆå´ï¼ˆãƒ«ãƒ¼ãƒ ä½œæˆï¼‰**
  - ã€ŒYour IDã€è¡¨ç¤º
  - ã€ŒShare Linkã€ãƒœã‚¿ãƒ³ï¼ˆæ‹›å¾…URLã‚’ã‚³ãƒ”ãƒ¼ï¼‰
  - ã€Œç›¸æ‰‹ã‚’å¾…ã£ã¦ã„ã¾ã™...ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
  - ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
- **ã‚²ã‚¹ãƒˆå´ï¼ˆãƒ«ãƒ¼ãƒ å‚åŠ ï¼‰**
  - ã€ŒOpponent's IDã€å…¥åŠ›æ¬„ï¼ˆURLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§è‡ªå‹•å…¥åŠ›ï¼‰
  - ã€ŒConnectã€ãƒœã‚¿ãƒ³
  - æ¥ç¶šä¸­ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸

#### å‡¦ç†ãƒ•ãƒ­ãƒ¼
1. ãƒ›ã‚¹ãƒˆãŒãƒšãƒ¼ã‚¸ã‚’é–‹ã â†’ PeerJSæ¥ç¶š â†’ IDã‚’å–å¾—
2. ãƒ›ã‚¹ãƒˆãŒã€ŒShare Linkã€ã§URLã‚³ãƒ”ãƒ¼
3. ã‚²ã‚¹ãƒˆãŒURLã‚’é–‹ã â†’ è‡ªå‹•çš„ã«ãƒ›ã‚¹ãƒˆIDãŒå…¥åŠ›ã•ã‚Œã‚‹
4. ã‚²ã‚¹ãƒˆãŒã€ŒConnectã€ãƒœã‚¿ãƒ³ â†’ P2Pæ¥ç¶šç¢ºç«‹
5. æ¥ç¶šæˆåŠŸ â†’ ä¸¡è€…ãŒã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é¸æŠç”»é¢ã¸

#### é·ç§»
- æ¥ç¶šæˆåŠŸ â†’ `/character-select?mode=online&peerId=xxx&opponentId=yyy`
- æˆ»ã‚‹ â†’ `/mode-select`

---

### 5. ã‚²ãƒ¼ãƒ ç”»é¢ (`/game`)

#### æ¦‚è¦
ãƒ¡ã‚¤ãƒ³ã®ã‚²ãƒ¼ãƒ ç”»é¢ã€‚é…ç½®ãƒ•ã‚§ãƒ¼ã‚º â†’ æˆ¦é—˜ãƒ•ã‚§ãƒ¼ã‚ºã€‚

#### ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ

```
+--------------------------------------------------+
|  [è‡ªåˆ†ã®ã‚­ãƒ£ãƒ©ç«‹ã¡çµµ]    [HUD]    [ç›¸æ‰‹ã®ã‚­ãƒ£ãƒ©ç«‹ã¡çµµ] |
|                                                  |
|  HP: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 79%       HP: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ 57%    |
|                                                  |
+--------------------------------------------------+
|                                                  |
|  +-------------------+  +-------------------+    |
|  |   è‡ªåˆ†ã®ãƒœãƒ¼ãƒ‰      |  |   ç›¸æ‰‹ã®ãƒœãƒ¼ãƒ‰      |    |
|  |   (10x10ãƒã‚¹)     |  |   (10x10ãƒã‚¹)     |    |
|  |                   |  |                   |    |
|  |   [ä¹—ã‚Šç‰©é…ç½®]     |  |   [æ”»æ’ƒå¯¾è±¡]       |    |
|  +-------------------+  +-------------------+    |
|                                                  |
+--------------------------------------------------+
|                                                  |
|  [ã‚¹ã‚­ãƒ«ãƒ‘ãƒãƒ«]                                    |
|  [ğŸ“ ã‚¤ãƒã‚´ãƒœãƒ¼ãƒˆ: ã‚·ãƒ¼ãƒ«ãƒ‰]  [ä½¿ç”¨å¯]             |
|  [ğŸ« ã‚³ã‚³ã‚¢æ½œæ°´è‰‡: ãƒœãƒ ]      [ä½¿ç”¨å¯]             |
|  [ğŸª ãƒã‚«ãƒ­ãƒ³å††ç›¤: ç§»å‹•]      [ä½¿ç”¨æ¸ˆ]             |
|  [ğŸ§‡ ãƒ¯ãƒƒãƒ•ãƒ«è‰¦: ã‚¹ã‚­ãƒ£ãƒ³]    [æ’ƒæ²ˆ]               |
|                                                  |
+--------------------------------------------------+
|  [ã‚¿ãƒ¼ãƒ³è¡¨ç¤º]  [ã‚¿ã‚¤ãƒãƒ¼]  [ãƒãƒ¼ã‚ºãƒœã‚¿ãƒ³]           |
+--------------------------------------------------+
```

#### ãƒ•ã‚§ãƒ¼ã‚ºåˆ¥UI

##### é…ç½®ãƒ•ã‚§ãƒ¼ã‚º
- å·¦å´ï¼ˆè‡ªåˆ†ã®ãƒœãƒ¼ãƒ‰ï¼‰ã«ä¹—ã‚Šç‰©ã‚’é…ç½®
- ä¹—ã‚Šç‰©ãƒªã‚¹ãƒˆè¡¨ç¤ºï¼ˆæœªé…ç½®ã®ä¹—ã‚Šç‰©ï¼‰
- ä¹—ã‚Šç‰©é¸æŠ â†’ æ–¹å‘é¸æŠï¼ˆç¸¦/æ¨ªãƒœã‚¿ãƒ³ï¼‰ â†’ ãƒœãƒ¼ãƒ‰ä¸Šã‚¯ãƒªãƒƒã‚¯ã§é…ç½®
- ã‚¿ã‚¤ãƒãƒ¼è¡¨ç¤ºï¼ˆ60ç§’ï¼‰
- ã€Œé…ç½®å®Œäº†ã€ãƒœã‚¿ãƒ³ï¼ˆå…¨ã¦é…ç½®å¾Œã«æœ‰åŠ¹åŒ–ï¼‰

##### æˆ¦é—˜ãƒ•ã‚§ãƒ¼ã‚º
- è‡ªåˆ†ã®ã‚¿ãƒ¼ãƒ³
  - ç›¸æ‰‹ã®ãƒœãƒ¼ãƒ‰ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦æ”»æ’ƒ
  - ã‚¹ã‚­ãƒ«ãƒœã‚¿ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã‚‹
  - æ”»æ’ƒ or ã‚¹ã‚­ãƒ«ä½¿ç”¨ â†’ çµæœè¡¨ç¤º â†’ é€£ç¶šæ”»æ’ƒ or ã‚¿ãƒ¼ãƒ³çµ‚äº†
- ç›¸æ‰‹ã®ã‚¿ãƒ¼ãƒ³
  - ã€Œç›¸æ‰‹ã®ã‚¿ãƒ¼ãƒ³ã€è¡¨ç¤º
  - ç›¸æ‰‹ã®æ”»æ’ƒã‚’å¾…ã¤ï¼ˆã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³è¡¨ç¤ºï¼‰

#### UIè¦ç´ 
- **ãƒœãƒ¼ãƒ‰ï¼ˆBoard.tsxï¼‰**
  - 10Ã—10ã®ãƒã‚¹ï¼ˆCell.tsx Ã— 100ï¼‰
  - è‡ªåˆ†ã®ãƒœãƒ¼ãƒ‰ï¼šä¹—ã‚Šç‰©ãŒè¦‹ãˆã‚‹
  - ç›¸æ‰‹ã®ãƒœãƒ¼ãƒ‰ï¼šæ”»æ’ƒçµæœã®ã¿è¦‹ãˆã‚‹ï¼ˆæœªæ”»æ’ƒ/ãƒŸã‚¹/ãƒ’ãƒƒãƒˆ/æ’ƒæ²ˆï¼‰
- **HUDï¼ˆHUD.tsxï¼‰**
  - HPè¡¨ç¤ºï¼ˆè‡ªåˆ†ãƒ»ç›¸æ‰‹ï¼‰
  - æ®‹å­˜è‰¦è¡¨ç¤º
  - ã‚¿ãƒ¼ãƒ³è¡¨ç¤º
- **ã‚¹ã‚­ãƒ«ãƒ‘ãƒãƒ«ï¼ˆSkillPanel.tsxï¼‰**
  - 4ã¤ã®ã‚¹ã‚­ãƒ«ãƒœã‚¿ãƒ³
  - ä½¿ç”¨å¯/ä½¿ç”¨æ¸ˆã¿/æ’ƒæ²ˆã‚’è¦–è¦šçš„ã«è¡¨ç¤º
- **ã‚¿ã‚¤ãƒãƒ¼ï¼ˆTimer.tsxï¼‰**
  - é…ç½®ãƒ•ã‚§ãƒ¼ã‚ºï¼šæ®‹ã‚Šæ™‚é–“
  - æˆ¦é—˜ãƒ•ã‚§ãƒ¼ã‚ºï¼šå°†æ¥çš„ã«ã‚¿ãƒ¼ãƒ³æ™‚é–“åˆ¶é™

#### é·ç§»
- ã‚²ãƒ¼ãƒ çµ‚äº† â†’ `/result?winner=player1`
- ãƒãƒ¼ã‚º â†’ ãƒ¢ãƒ¼ãƒ€ãƒ«è¡¨ç¤º â†’ ã€Œã‚¿ã‚¤ãƒˆãƒ«ã«æˆ»ã‚‹ã€ã§ `/`

---

### 6. çµæœç”»é¢ (`/result`)

#### æ¦‚è¦
å‹æ•—çµæœã‚’è¡¨ç¤ºã€‚ã‚³ã‚¤ãƒ³ç²å¾—ã€ç§°å·ç²å¾—æ¼”å‡ºã€ãƒªãƒãƒƒãƒorã‚¿ã‚¤ãƒˆãƒ«ã¸æˆ»ã‚‹ã€‚

#### UIè¦ç´ 
- å‹åˆ©/æ•—åŒ—ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
- å‹è€…ã®ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç”»åƒï¼ˆå¤§ããè¡¨ç¤ºï¼‰
- **ã‚³ã‚¤ãƒ³ç²å¾—è¡¨ç¤º**
  - ç²å¾—ã‚³ã‚¤ãƒ³æ•°ã¨å†…è¨³
  - ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³æ¼”å‡ºï¼ˆã‚³ã‚¤ãƒ³ãŒå¢—ãˆã¦ã„ãï¼‰
- **ç§°å·ç²å¾—è¡¨ç¤ºï¼ˆã‚‚ã—ã‚ã‚Œã°ï¼‰**
  - æ–°è¦ç²å¾—ã—ãŸç§°å·ã‚’ãƒ¢ãƒ¼ãƒ€ãƒ«ã§è¡¨ç¤º
  - ã€ŒğŸ† æ–°ã—ã„ç§°å·ã‚’ç²å¾—ã—ã¾ã—ãŸï¼ã€
- æˆ¦ç¸¾è¡¨ç¤º
  - ã‚¿ãƒ¼ãƒ³æ•°
  - ç¾åœ¨ã®é€£å‹æ•°
  - ç·å‹åˆ©æ•°
- ã€Œãƒªãƒãƒƒãƒã€ãƒœã‚¿ãƒ³ï¼ˆã‚ªãƒ³ãƒ©ã‚¤ãƒ³å¯¾æˆ¦ã®ã¿ï¼‰
- ã€Œã‚·ãƒ§ãƒƒãƒ—ã¸ã€ãƒœã‚¿ãƒ³
- ã€Œã‚¿ã‚¤ãƒˆãƒ«ã«æˆ»ã‚‹ã€ãƒœã‚¿ãƒ³

#### ã‚³ã‚¤ãƒ³ç²å¾—ã®å†…è¨³è¡¨ç¤ºä¾‹
```
ğŸ‰ å‹åˆ©ï¼
+100 ğŸª™ åŸºæœ¬å ±é…¬
+50  ğŸª™ ã‚ªãƒ³ãƒ©ã‚¤ãƒ³å¯¾æˆ¦ãƒœãƒ¼ãƒŠã‚¹
+50  ğŸª™ é€Ÿæ”»ãƒœãƒ¼ãƒŠã‚¹ï¼ˆ10ã‚¿ãƒ¼ãƒ³ä»¥å†…ï¼‰
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
åˆè¨ˆ: +200 ğŸª™
```

#### é·ç§»
- ãƒªãƒãƒƒãƒ â†’ `/game?mode=online&rematch=true`
- ã‚·ãƒ§ãƒƒãƒ—ã¸ â†’ `/shop`
- ã‚¿ã‚¤ãƒˆãƒ«ã«æˆ»ã‚‹ â†’ `/`

---

### 7. ã‚·ãƒ§ãƒƒãƒ—ç”»é¢ (`/shop`)

#### æ¦‚è¦
ã‚¹ã‚¤ãƒ¼ãƒ„ã‚³ã‚¤ãƒ³ã‚’ä½¿ã£ã¦ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚¹ã‚­ãƒ³ãªã©ã‚’è³¼å…¥ã€‚

#### MVPç‰ˆã®å†…å®¹
- **è³¼å…¥å¯èƒ½ã‚¢ã‚¤ãƒ†ãƒ æ•°ï¼š1å€‹ã®ã¿**
- ä¾‹ï¼šã‚·ãƒ§ãƒ¼ãƒˆã‚±ãƒ¼ã‚­ã¡ã‚ƒã‚“ã®ã€Œã‚µãƒãƒ¼ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã€ã‚¹ã‚­ãƒ³ï¼ˆ300ã‚³ã‚¤ãƒ³ï¼‰

#### UIè¦ç´ 
- æ‰€æŒã‚³ã‚¤ãƒ³è¡¨ç¤ºï¼ˆå³ä¸Šï¼‰
  - ğŸª™ 1,250
- ã‚¢ã‚¤ãƒ†ãƒ ãƒªã‚¹ãƒˆ
  - ã‚¢ã‚¤ãƒ†ãƒ ã‚«ãƒ¼ãƒ‰
    - ã‚¹ã‚­ãƒ³ç”»åƒï¼ˆãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼‰
    - åå‰
    - èª¬æ˜æ–‡
    - ä¾¡æ ¼
    - ãƒ¬ã‚¢ãƒªãƒ†ã‚£ï¼ˆè‰²ã§è¡¨ç¤ºï¼‰
    - ã€Œè³¼å…¥ã€ãƒœã‚¿ãƒ³ or ã€Œæ‰€æŒä¸­ã€ãƒãƒƒã‚¸
- ã€Œæˆ»ã‚‹ã€ãƒœã‚¿ãƒ³

#### ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
```
+--------------------------------------------------+
|  ã‚¹ã‚¤ãƒ¼ãƒ„ã‚·ãƒ§ãƒƒãƒ—         æ‰€æŒã‚³ã‚¤ãƒ³: ğŸª™ 1,250    |
+--------------------------------------------------+
|                                                  |
|  [MVPç‰ˆã§ã¯1ã‚¢ã‚¤ãƒ†ãƒ ã®ã¿è¡¨ç¤º]                      |
|                                                  |
|  +------------------------------------------+   |
|  |  [ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”»åƒ]                          |   |
|  |                                            |   |
|  |  ã‚·ãƒ§ãƒ¼ãƒˆã‚±ãƒ¼ã‚­ã¡ã‚ƒã‚“ ã‚µãƒãƒ¼ãƒãƒ¼ã‚¸ãƒ§ãƒ³        |   |
|  |  å¤ã®æµ·ãŒä¼¼åˆã†çˆ½ã‚„ã‹ãªè¡£è£…                 |   |
|  |                                            |   |
|  |  ğŸ’ ãƒ¬ã‚¢        300 ğŸª™                    |   |
|  |                                            |   |
|  |  [è³¼å…¥ã™ã‚‹]  or  [æ‰€æŒä¸­]                  |   |
|  +------------------------------------------+   |
|                                                  |
|  â€»ã‚³ã‚¤ãƒ³ä¸è¶³ã®å ´åˆã¯ãƒœã‚¿ãƒ³ãŒç„¡åŠ¹åŒ–               |
|                                                  |
+--------------------------------------------------+
|  [æˆ»ã‚‹]                                          |
+--------------------------------------------------+
```

#### è³¼å…¥å‡¦ç†
1. ã€Œè³¼å…¥ã™ã‚‹ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
2. ç¢ºèªãƒ¢ãƒ¼ãƒ€ãƒ«è¡¨ç¤º
   - ã€Œã“ã®ã‚¢ã‚¤ãƒ†ãƒ ã‚’300ã‚³ã‚¤ãƒ³ã§è³¼å…¥ã—ã¾ã™ã‹ï¼Ÿã€
   - [ã‚­ãƒ£ãƒ³ã‚»ãƒ«] [è³¼å…¥]
3. è³¼å…¥å®Œäº†
   - ã‚³ã‚¤ãƒ³æ¸›ç®—
   - ã‚¹ã‚­ãƒ³è§£æ”¾
   - ã€Œè³¼å…¥ã—ã¾ã—ãŸï¼ã€é€šçŸ¥
4. ã‚¢ã‚¤ãƒ†ãƒ ã‚«ãƒ¼ãƒ‰ãŒã€Œæ‰€æŒä¸­ã€è¡¨ç¤ºã«å¤‰æ›´

#### å°†æ¥ã®æ‹¡å¼µ
- ã‚¿ãƒ–æ©Ÿèƒ½è¿½åŠ ï¼ˆã‚­ãƒ£ãƒ©ã‚¹ã‚­ãƒ³ / ä¹—ã‚Šç‰©ã‚¹ã‚­ãƒ³ / ãƒ†ãƒ¼ãƒ / ã‚¨ãƒ•ã‚§ã‚¯ãƒˆï¼‰
- ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼æ©Ÿèƒ½ï¼ˆãƒ¬ã‚¢ãƒªãƒ†ã‚£ã€ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼åˆ¥ï¼‰
- ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆã‚¢ã‚¤ãƒ†ãƒ ãŒå¢—ãˆãŸã‚‰ï¼‰

#### é·ç§»
- æˆ»ã‚‹ â†’ `/`ï¼ˆã‚¿ã‚¤ãƒˆãƒ«ç”»é¢ï¼‰

---

### 8. ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»é¢ (`/profile`)

#### æ¦‚è¦
ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®çµ±è¨ˆã€ç§°å·ã€è£…å‚™ã‚’è¡¨ç¤ºãƒ»å¤‰æ›´ã€‚

#### MVPç‰ˆã®å†…å®¹
- åŸºæœ¬çµ±è¨ˆè¡¨ç¤º
- ç§°å·è¡¨ç¤ºãƒ»è£…å‚™å¤‰æ›´ï¼ˆ1ã¤ã®ã¿ï¼‰
- è£…å‚™ä¸­ã‚¹ã‚­ãƒ³è¡¨ç¤º

#### UIè¦ç´ 
- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç”»åƒï¼ˆé¸æŠä¸­ã®ã‚­ãƒ£ãƒ©ï¼‰
- **ç§°å·è¡¨ç¤º**
  - è£…å‚™ä¸­ã®ç§°å·ï¼ˆå¤§ããè¡¨ç¤ºï¼‰
  - ã€Œã€åˆå‹åˆ©ã€‘ã€ãªã©
- **ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼çµ±è¨ˆ**
  - ç·å¯¾æˆ¦æ•°
  - ç·å‹åˆ©æ•°
  - å‹ç‡
  - ç¾åœ¨ã®é€£å‹æ•°
  - æœ€é«˜é€£å‹æ•°
  - æ‰€æŒã‚³ã‚¤ãƒ³
- **ç§°å·å¤‰æ›´ãƒœã‚¿ãƒ³**
  - ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ãƒ¢ãƒ¼ãƒ€ãƒ«ã§è§£æ”¾æ¸ˆã¿ç§°å·ä¸€è¦§
  - è£…å‚™ã™ã‚‹ç§°å·ã‚’é¸æŠ
- ã€Œæˆ»ã‚‹ã€ãƒœã‚¿ãƒ³

#### ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
```
+--------------------------------------------------+
|  ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«                                      |
+--------------------------------------------------+
|                                                  |
|  [ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç”»åƒ]                               |
|                                                  |
|  ç§°å·: ã€åˆå‹åˆ©ã€‘                  [å¤‰æ›´]          |
|                                                  |
|  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                 |
|                                                  |
|  ğŸ“Š ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼çµ±è¨ˆ                                |
|                                                  |
|  ç·å¯¾æˆ¦æ•°: 10                                     |
|  ç·å‹åˆ©æ•°: 7 (å‹ç‡: 70.0%)                        |
|  ç¾åœ¨ã®é€£å‹: 3                                    |
|  æœ€é«˜é€£å‹: 3                                      |
|                                                  |
|  æ‰€æŒã‚³ã‚¤ãƒ³: ğŸª™ 450                              |
|                                                  |
|  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                 |
|                                                  |
|  è£…å‚™ä¸­ã‚¹ã‚­ãƒ³:                                    |
|  ã‚·ãƒ§ãƒ¼ãƒˆã‚±ãƒ¼ã‚­ã¡ã‚ƒã‚“: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ                  |
|  ãƒãƒ§ã‚³ãƒ¬ãƒ¼ãƒˆã¡ã‚ƒã‚“: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ                    |
|  ...                                             |
|                                                  |
+--------------------------------------------------+
|  [æˆ»ã‚‹]                                          |
+--------------------------------------------------+
```

#### ç§°å·å¤‰æ›´ãƒ¢ãƒ¼ãƒ€ãƒ«
```
+----------------------------------+
|  ç§°å·ã‚’é¸æŠ                        |
+----------------------------------+
|                                  |
|  âœ… ã€åˆå‹åˆ©ã€‘                    |
|     æœ€åˆã®å‹åˆ©ã‚’é£¾ã£ãŸ             |
|                                  |
|  ğŸ”’ ã€ä¸‰é€£å‹ã€‘                    |
|     3é€£å‹ã‚’é”æˆï¼ˆæœªè§£æ”¾ï¼‰          |
|                                  |
|  ğŸ”’ ã€ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆã€‘              |
|     è¢«å¼¾0ã§å®Œå…¨å‹åˆ©ï¼ˆæœªè§£æ”¾ï¼‰      |
|                                  |
+----------------------------------+
|  [ã‚­ãƒ£ãƒ³ã‚»ãƒ«]      [è£…å‚™ã™ã‚‹]     |
+----------------------------------+
```

#### å°†æ¥ã®æ‹¡å¼µ
- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼åˆ¥çµ±è¨ˆ
- è©³ç´°çµ±è¨ˆï¼ˆå‘½ä¸­ç‡ã€ç·æ”»æ’ƒå›æ•°ãªã©ï¼‰
- æˆ¦ç¸¾ã‚°ãƒ©ãƒ•
- ã‚¹ã‚­ãƒ³è£…å‚™å¤‰æ›´æ©Ÿèƒ½

#### é·ç§»
- æˆ»ã‚‹ â†’ `/`ï¼ˆã‚¿ã‚¤ãƒˆãƒ«ç”»é¢ï¼‰

---

## ğŸ”— ç”»é¢é·ç§»å›³

```
[ã‚¿ã‚¤ãƒˆãƒ«ç”»é¢ /]
    â†“ ã‚¹ã‚¿ãƒ¼ãƒˆ
[ãƒ¢ãƒ¼ãƒ‰é¸æŠ /mode-select]
    â†“ ã‚ªãƒ³ãƒ©ã‚¤ãƒ³å¯¾æˆ¦
[ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ãƒ­ãƒ“ãƒ¼ /online-lobby]
    â†“ æ¥ç¶šæˆåŠŸ
[ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é¸æŠ /character-select?mode=online]
    â†“ é¸æŠå®Œäº†
[ã‚²ãƒ¼ãƒ ç”»é¢ /game?mode=online]
    â†“ ã‚²ãƒ¼ãƒ çµ‚äº†
[çµæœç”»é¢ /result]
    â”œâ”€ ã‚³ã‚¤ãƒ³ç²å¾—æ¼”å‡ºè¡¨ç¤º
    â”œâ”€ ç§°å·ç²å¾—æ¼”å‡ºè¡¨ç¤ºï¼ˆã‚‚ã—ã‚ã‚Œã°ï¼‰
    â†“ é¸æŠ
    â”œâ”€ ãƒªãƒãƒƒãƒ â†’ [ã‚²ãƒ¼ãƒ ç”»é¢]
    â”œâ”€ ã‚·ãƒ§ãƒƒãƒ—ã¸ â†’ [ã‚·ãƒ§ãƒƒãƒ—ç”»é¢ /shop]
    â”œâ”€ ã‚¿ã‚¤ãƒˆãƒ«ã¸ â†’ [ã‚¿ã‚¤ãƒˆãƒ«ç”»é¢]
    â””â”€ ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ« â†’ [ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»é¢ /profile]

---

[ãƒ¢ãƒ¼ãƒ‰é¸æŠ /mode-select]
    â†“ CPUå¯¾æˆ¦
[ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é¸æŠ /character-select?mode=cpu]
    â†“ é¸æŠå®Œäº†
[ã‚²ãƒ¼ãƒ ç”»é¢ /game?mode=cpu]
    â†“ ã‚²ãƒ¼ãƒ çµ‚äº†
[çµæœç”»é¢ /result]
    â†“ ã‚¿ã‚¤ãƒˆãƒ«ã¸ or ã‚·ãƒ§ãƒƒãƒ—ã¸

---

[ã‚¿ã‚¤ãƒˆãƒ«ç”»é¢ /]
    â”œâ”€ ã‚·ãƒ§ãƒƒãƒ—ãƒœã‚¿ãƒ³ â†’ [ã‚·ãƒ§ãƒƒãƒ—ç”»é¢ /shop]
    â””â”€ ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ãƒœã‚¿ãƒ³ â†’ [ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»é¢ /profile]

[ã‚·ãƒ§ãƒƒãƒ—ç”»é¢ /shop]
    â””â”€ æˆ»ã‚‹ â†’ [ã‚¿ã‚¤ãƒˆãƒ«ç”»é¢ /]

[ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»é¢ /profile]
    â””â”€ æˆ»ã‚‹ â†’ [ã‚¿ã‚¤ãƒˆãƒ«ç”»é¢ /]
```

---

## ğŸŒ P2Pé€šä¿¡è¨­è¨ˆ

### PeerJSè¨­å®š

#### ã‚·ã‚°ãƒŠãƒªãƒ³ã‚°ã‚µãƒ¼ãƒãƒ¼
```typescript
// Renderä¸Šã®PeerServer
const PEER_SERVER_CONFIG = {
  host: 'your-peerjs-server.onrender.com',
  port: 443,
  path: '/',
  secure: true,
};
```

#### PeeråˆæœŸåŒ–
```typescript
import Peer from 'peerjs';

const peer = new Peer(PEER_SERVER_CONFIG);

peer.on('open', (id) => {
  console.log('My peer ID is:', id);
  // IDã‚’UIã«è¡¨ç¤ºã€URLã«å«ã‚ã‚‹
});
```

---

### é€šä¿¡ãƒ•ãƒ­ãƒ¼

#### ãƒ›ã‚¹ãƒˆå´ï¼ˆãƒ«ãƒ¼ãƒ ä½œæˆï¼‰
```typescript
// 1. Peeræ¥ç¶š
const peer = new Peer(PEER_SERVER_CONFIG);

peer.on('open', (id) => {
  // 2. IDã‚’è¡¨ç¤ºã€æ‹›å¾…URLç”Ÿæˆ
  const inviteUrl = `${window.location.origin}/online-lobby?connect_to=${id}`;
  // ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼
});

// 3. ç›¸æ‰‹ã‹ã‚‰ã®æ¥ç¶šã‚’å¾…ã¤
peer.on('connection', (conn) => {
  conn.on('open', () => {
    console.log('æ¥ç¶šç¢ºç«‹');
    // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é¸æŠç”»é¢ã¸é·ç§»
  });

  conn.on('data', (data) => {
    handleP2PMessage(data);
  });
});
```

#### ã‚²ã‚¹ãƒˆå´ï¼ˆãƒ«ãƒ¼ãƒ å‚åŠ ï¼‰
```typescript
// 1. URLã‹ã‚‰ãƒ›ã‚¹ãƒˆIDã‚’å–å¾—
const params = new URLSearchParams(window.location.search);
const hostId = params.get('connect_to');

// 2. Peeræ¥ç¶š
const peer = new Peer(PEER_SERVER_CONFIG);

peer.on('open', (myId) => {
  // 3. ãƒ›ã‚¹ãƒˆã«æ¥ç¶š
  const conn = peer.connect(hostId);

  conn.on('open', () => {
    console.log('æ¥ç¶šç¢ºç«‹');
    // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é¸æŠç”»é¢ã¸é·ç§»
  });

  conn.on('data', (data) => {
    handleP2PMessage(data);
  });
});
```

---

### ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€å—ä¿¡

#### ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡
```typescript
function sendGameAction(action: GameAction) {
  const message: P2PMessage = {
    type: 'gameAction',
    payload: action,
    timestamp: Date.now(),
  };
  connection.send(message);
}
```

#### ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å—ä¿¡
```typescript
function handleP2PMessage(message: P2PMessage) {
  switch (message.type) {
    case 'gameAction':
      applyGameAction(message.payload);
      break;
    case 'ping':
      sendPong();
      break;
    case 'sync':
      syncGameState(message.payload);
      break;
    case 'disconnect':
      handleDisconnect();
      break;
  }
}
```

---

### ã‚²ãƒ¼ãƒ ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®é€å—ä¿¡ä¾‹

#### æ”»æ’ƒã‚¢ã‚¯ã‚·ãƒ§ãƒ³
```typescript
// é€ä¿¡å´
const attackAction: GameAction = {
  type: 'attack',
  playerId: 'player1',
  timestamp: Date.now(),
  data: {
    position: { x: 5, y: 3 },
  },
};
sendGameAction(attackAction);

// å—ä¿¡å´
function applyGameAction(action: GameAction) {
  if (action.type === 'attack') {
    const result = processAttack(action.data.position, action.playerId);
    // æ”»æ’ƒçµæœã‚’UIã«åæ˜ 
    updateBoard(result);
  }
}
```

#### ã‚¹ã‚­ãƒ«ä½¿ç”¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
```typescript
const skillAction: GameAction = {
  type: 'useSkill',
  playerId: 'player1',
  timestamp: Date.now(),
  data: {
    skillUse: {
      skillId: 'strawberry_shield',
      shipId: 'player1_strawberry_boat',
    },
  },
};
sendGameAction(skillAction);
```

---

### åŒæœŸã¨ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

#### æ¥ç¶šåˆ‡æ–­æ™‚
```typescript
connection.on('close', () => {
  // æ¥ç¶šãŒåˆ‡ã‚ŒãŸå ´åˆã®å‡¦ç†
  showNotification('ç›¸æ‰‹ã¨ã®æ¥ç¶šãŒåˆ‡ã‚Œã¾ã—ãŸ', 'error');
  // ã‚¿ã‚¤ãƒˆãƒ«ç”»é¢ã¸æˆ»ã‚‹ã‹ãƒªãƒˆãƒ©ã‚¤
});

connection.on('error', (err) => {
  console.error('P2P Error:', err);
  showNotification('é€šä¿¡ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ', 'error');
});
```

#### ã‚²ãƒ¼ãƒ çŠ¶æ…‹ã®åŒæœŸ
- åŸºæœ¬çš„ã«**æ±ºå®šè«–çš„ãªå‡¦ç†**ã‚’ä¸¡è€…ã§å®Ÿè¡Œã™ã‚‹ãŸã‚ã€ã‚²ãƒ¼ãƒ çŠ¶æ…‹ã¯è‡ªç„¶ã«åŒæœŸ
- ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’é€ä¿¡ â†’ ä¸¡è€…ãŒåŒã˜ãƒ­ã‚¸ãƒƒã‚¯ã‚’å®Ÿè¡Œ â†’ çµæœãŒä¸€è‡´
- ãƒ©ãƒ³ãƒ€ãƒ è¦ç´ ãŒã‚ã‚‹å ´åˆã¯ã‚·ãƒ¼ãƒ‰å€¤ã‚’å…±æœ‰ï¼ˆMVPç‰ˆã§ã¯ä¸è¦ï¼‰

---

## ğŸµ ã‚µã‚¦ãƒ³ãƒ‰ç®¡ç†

### Howler.jsè¨­å®š

#### åˆæœŸåŒ–
```typescript
import { Howl } from 'howler';

// BGM
const titleBgm = new Howl({
  src: ['/assets/sounds/bgm/title.mp3'],
  loop: true,
  volume: 0.5,
});

const battleBgm = new Howl({
  src: ['/assets/sounds/bgm/battle.mp3'],
  loop: true,
  volume: 0.5,
});

// SE
const clickSe = new Howl({
  src: ['/assets/sounds/se/click.mp3'],
  volume: 0.7,
});

const hitSe = new Howl({
  src: ['/assets/sounds/se/hit.mp3'],
  volume: 0.8,
});
```

#### ã‚µã‚¦ãƒ³ãƒ‰ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼
```typescript
// src/lib/sound/soundManager.ts

class SoundManager {
  private bgms: Map<string, Howl>;
  private ses: Map<string, Howl>;
  private currentBgm: Howl | null = null;
  private settings: SoundSettings;

  constructor() {
    this.bgms = new Map();
    this.ses = new Map();
    this.settings = {
      bgmVolume: 0.5,
      seVolume: 0.7,
      bgmEnabled: true,
      seEnabled: true,
    };
    this.loadSounds();
  }

  private loadSounds() {
    // BGMãƒ­ãƒ¼ãƒ‰
    this.bgms.set('title', new Howl({ src: ['/assets/sounds/bgm/title.mp3'], loop: true }));
    this.bgms.set('battle', new Howl({ src: ['/assets/sounds/bgm/battle.mp3'], loop: true }));

    // SEãƒ­ãƒ¼ãƒ‰
    this.ses.set('click', new Howl({ src: ['/assets/sounds/se/click.mp3'] }));
    this.ses.set('hit', new Howl({ src: ['/assets/sounds/se/hit.mp3'] }));
    this.ses.set('miss', new Howl({ src: ['/assets/sounds/se/miss.mp3'] }));
    this.ses.set('sink', new Howl({ src: ['/assets/sounds/se/sink.mp3'] }));
    this.ses.set('skill', new Howl({ src: ['/assets/sounds/se/skill_use.mp3'] }));
    this.ses.set('win', new Howl({ src: ['/assets/sounds/se/win.mp3'] }));
  }

  playBgm(name: string) {
    if (!this.settings.bgmEnabled) return;

    if (this.currentBgm) {
      this.currentBgm.fade(this.currentBgm.volume(), 0, 500);
      setTimeout(() => this.currentBgm?.stop(), 500);
    }

    const bgm = this.bgms.get(name);
    if (bgm) {
      bgm.volume(this.settings.bgmVolume);
      bgm.play();
      this.currentBgm = bgm;
    }
  }

  playSe(name: string) {
    if (!this.settings.seEnabled) return;

    const se = this.ses.get(name);
    if (se) {
      se.volume(this.settings.seVolume);
      se.play();
    }
  }

  stopBgm() {
    if (this.currentBgm) {
      this.currentBgm.fade(this.currentBgm.volume(), 0, 500);
      setTimeout(() => this.currentBgm?.stop(), 500);
    }
  }

  setVolume(type: 'bgm' | 'se', volume: number) {
    if (type === 'bgm') {
      this.settings.bgmVolume = volume;
      if (this.currentBgm) {
        this.currentBgm.volume(volume);
      }
    } else {
      this.settings.seVolume = volume;
    }
  }
}

export const soundManager = new SoundManager();
```

#### ä½¿ç”¨ä¾‹
```typescript
// ã‚¿ã‚¤ãƒˆãƒ«ç”»é¢ã§BGMå†ç”Ÿ
soundManager.playBgm('title');

// ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯æ™‚
soundManager.playSe('click');

// æ”»æ’ƒãƒ’ãƒƒãƒˆæ™‚
soundManager.playSe('hit');
```

---

## ğŸ¨ ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³è¨­è¨ˆ

### Framer Motionä½¿ç”¨ä¾‹

#### ãƒœã‚¿ãƒ³ãƒ›ãƒãƒ¼
```tsx
import { motion } from 'framer-motion';

<motion.button
  whileHover={{ scale: 1.05 }}
  whileTap={{ scale: 0.95 }}
  transition={{ duration: 0.2 }}
>
  ã‚¹ã‚¿ãƒ¼ãƒˆ
</motion.button>
```

#### æ”»æ’ƒã‚¨ãƒ•ã‚§ã‚¯ãƒˆ
```tsx
// HitEffect.tsx
import { motion } from 'framer-motion';

export function HitEffect({ position }: { position: Position }) {
  return (
    <motion.div
      initial={{ scale: 0, opacity: 1 }}
      animate={{ scale: 1.5, opacity: 0 }}
      transition={{ duration: 0.5 }}
      style={{
        position: 'absolute',
        left: position.x * cellSize,
        top: position.y * cellSize,
      }}
    >
      ğŸ’¥
    </motion.div>
  );
}
```

#### æ’ƒæ²ˆã‚¨ãƒ•ã‚§ã‚¯ãƒˆ
```tsx
// SinkEffect.tsx
export function SinkEffect({ ship }: { ship: Ship }) {
  return (
    <motion.div
      initial={{ y: 0, opacity: 1 }}
      animate={{ y: 100, opacity: 0, rotate: 15 }}
      transition={{ duration: 1, ease: 'easeIn' }}
    >
      <img src={`/assets/images/ships/${ship.type}.png`} alt={ship.type} />
    </motion.div>
  );
}
```

---

## ğŸ“± ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ

### ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆ
```typescript
// Tailwindè¨­å®š
module.exports = {
  theme: {
    screens: {
      'sm': '640px',
      'md': '768px',
      'lg': '1024px',
      'xl': '1280px',
      '2xl': '1536px',
    },
  },
};
```

### ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œ
- ã‚¿ãƒƒãƒæ“ä½œå¯¾å¿œ
- ãƒœã‚¿ãƒ³ã‚µã‚¤ã‚ºã‚’å¤§ããï¼ˆã‚¿ãƒƒãƒ—ã—ã‚„ã™ãï¼‰
- ãƒœãƒ¼ãƒ‰ã‚µã‚¤ã‚ºã‚’ç”»é¢ã«åˆã‚ã›ã¦èª¿æ•´
- æ¨ªå‘ãæ¨å¥¨ã®æ¡ˆå†…è¡¨ç¤º

---

## ğŸ§ª ãƒ†ã‚¹ãƒˆè¨ˆç”»

### å˜ä½“ãƒ†ã‚¹ãƒˆ
- ã‚²ãƒ¼ãƒ ãƒ­ã‚¸ãƒƒã‚¯é–¢æ•°ï¼ˆæ”»æ’ƒåˆ¤å®šã€ã‚¹ã‚­ãƒ«å®Ÿè¡Œç­‰ï¼‰
- ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³é–¢æ•°
- ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°

### çµ±åˆãƒ†ã‚¹ãƒˆ
- P2Pé€šä¿¡ã®é€å—ä¿¡
- ã‚²ãƒ¼ãƒ çŠ¶æ…‹ã®åŒæœŸ
- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

### E2Eãƒ†ã‚¹ãƒˆ
- ç”»é¢é·ç§»ãƒ•ãƒ­ãƒ¼
- ã‚ªãƒ³ãƒ©ã‚¤ãƒ³å¯¾æˆ¦ã®ä¸€é€£ã®æµã‚Œ
- CPUå¯¾æˆ¦ã®ä¸€é€£ã®æµã‚Œ

---

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤è¨­è¨ˆ

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆVercelï¼‰

#### æ‰‹é †
1. GitHubãƒªãƒã‚¸ãƒˆãƒªã«ãƒ—ãƒƒã‚·ãƒ¥
2. Vercelã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
3. ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®š
4. è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤

#### ç’°å¢ƒå¤‰æ•°
```
NEXT_PUBLIC_PEER_SERVER_HOST=your-peerjs-server.onrender.com
NEXT_PUBLIC_PEER_SERVER_PORT=443
NEXT_PUBLIC_PEER_SERVER_PATH=/
```

---

### ã‚·ã‚°ãƒŠãƒªãƒ³ã‚°ã‚µãƒ¼ãƒãƒ¼ï¼ˆRenderï¼‰

#### æ‰‹é †
1. GitHubãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œæˆï¼ˆåˆ¥ãƒªãƒã‚¸ãƒˆãƒªæ¨å¥¨ï¼‰
2. Renderã§ã€ŒWeb Serviceã€ã‚’ä½œæˆ
3. Node.jsã‚’é¸æŠ
4. ãƒ“ãƒ«ãƒ‰ã‚³ãƒãƒ³ãƒ‰: `npm install`
5. èµ·å‹•ã‚³ãƒãƒ³ãƒ‰: `node server.js`

#### server.js
```javascript
const { PeerServer } = require('peer');

const port = process.env.PORT || 9000;

const peerServer = PeerServer({
  port: port,
  path: '/',
  allow_discovery: true,
});

console.log(`PeerJS server running on port ${port}`);
```

#### package.json
```json
{
  "name": "sweets-ship-strike-signaling",
  "version": "1.0.0",
  "main": "server.js",
  "dependencies": {
    "peer": "^1.0.0"
  },
  "scripts": {
    "start": "node server.js"
  }
}
```

---

## ğŸ“Š ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

### ç”»åƒæœ€é©åŒ–
- Next.jsã®`<Image>`ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½¿ç”¨
- WebPå½¢å¼ã§é…ä¿¡
- é…å»¶ãƒ­ãƒ¼ãƒ‰ï¼ˆlazy loadingï¼‰

### ã‚³ãƒ¼ãƒ‰åˆ†å‰²
- ãƒšãƒ¼ã‚¸ã”ã¨ã«è‡ªå‹•ã‚³ãƒ¼ãƒ‰åˆ†å‰²ï¼ˆNext.jsæ¨™æº–ï¼‰
- å‹•çš„ã‚¤ãƒ³ãƒãƒ¼ãƒˆæ´»ç”¨

### ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°
- é™çš„ã‚¢ã‚»ãƒƒãƒˆã®ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°
- ServiceWorkerã®æ´»ç”¨ï¼ˆå°†æ¥çš„ã«ï¼‰

---

## ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è€ƒæ…®

### P2Pé€šä¿¡
- HTTPSå¿…é ˆï¼ˆVercel, Renderã¯è‡ªå‹•å¯¾å¿œï¼‰
- ã‚·ã‚°ãƒŠãƒªãƒ³ã‚°ã‚µãƒ¼ãƒãƒ¼ã®CORSè¨­å®š

### ä¸æ­£æ“ä½œé˜²æ­¢
- ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã§ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
- P2Pé€šä¿¡ã¯æš—å·åŒ–ï¼ˆWebRTCæ¨™æº–ï¼‰
- ãƒãƒ¼ãƒˆå¯¾ç­–ï¼ˆä¸¡è€…ã§åŒã˜ãƒ­ã‚¸ãƒƒã‚¯ã‚’å®Ÿè¡Œã—ã€æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯ï¼‰

---

## ğŸ“ˆ ä»Šå¾Œã®æ‹¡å¼µäºˆå®š

### ãƒ•ã‚§ãƒ¼ã‚º2
- ãƒ©ãƒ³ã‚­ãƒ³ã‚°æ©Ÿèƒ½
- æˆ¦ç¸¾ä¿å­˜ï¼ˆLocalStorageï¼‰
- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®ãƒ‘ãƒƒã‚·ãƒ–èƒ½åŠ›å®Ÿè£…

### ãƒ•ã‚§ãƒ¼ã‚º3
- ä¹—ã‚Šç‰©ã®ç¨®é¡ã‚’å¢—ã‚„ã™ï¼ˆ8-10ç¨®é¡ï¼‰
- è‡ªç”±ç·¨æˆã‚·ã‚¹ãƒ†ãƒ 
- æ–°ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼è¿½åŠ 

### ãƒ•ã‚§ãƒ¼ã‚º4
- ãƒˆãƒ¼ãƒŠãƒ¡ãƒ³ãƒˆãƒ¢ãƒ¼ãƒ‰
- ãƒ•ãƒ¬ãƒ³ãƒ‰ã‚·ã‚¹ãƒ†ãƒ 
- ãƒãƒ£ãƒƒãƒˆæ©Ÿèƒ½

---

## ğŸ“ é–‹ç™ºã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼ˆå†æ²ï¼‰

### Week 1ï¼šåŸºç›¤æ§‹ç¯‰
- Next.jsãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
- å‹å®šç¾©ã®ä½œæˆ
- åŸºæœ¬çš„ãªUIå®Ÿè£…ï¼ˆã‚¿ã‚¤ãƒˆãƒ«ï½ã‚­ãƒ£ãƒ©é¸æŠï¼‰
- ã‚²ãƒ¼ãƒ ãƒ­ã‚¸ãƒƒã‚¯ã®éª¨çµ„ã¿

### Week 2ï¼šã‚²ãƒ¼ãƒ ãƒ—ãƒ¬ã‚¤å®Ÿè£…
- é…ç½®ãƒ•ã‚§ãƒ¼ã‚ºå®Ÿè£…
- æˆ¦é—˜ãƒ•ã‚§ãƒ¼ã‚ºå®Ÿè£…
- ã‚¿ãƒ¼ãƒ³åˆ¶ã‚·ã‚¹ãƒ†ãƒ 
- CPUå¯¾æˆ¦AIå®Ÿè£…ï¼ˆç°¡æ˜“ç‰ˆï¼‰

### Week 3ï¼šã‚¹ã‚­ãƒ«&ã‚ªãƒ³ãƒ©ã‚¤ãƒ³å¯¾æˆ¦
- ã‚¹ã‚­ãƒ«ã‚·ã‚¹ãƒ†ãƒ å®Ÿè£…
- PeerJSçµ±åˆ
- ã‚ªãƒ³ãƒ©ã‚¤ãƒ³å¯¾æˆ¦æ©Ÿèƒ½
- é€šä¿¡ãƒ†ã‚¹ãƒˆ

### Week 4ï¼šä»•ä¸Šã’&ãƒ‡ãƒãƒƒã‚°&å ±é…¬ã‚·ã‚¹ãƒ†ãƒ ï¼ˆMVPæ‹¡å¼µï¼‰
- ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³è¿½åŠ 
- ã‚µã‚¦ãƒ³ãƒ‰å®Ÿè£…
- UI/UXãƒ–ãƒ©ãƒƒã‚·ãƒ¥ã‚¢ãƒƒãƒ—
- **å ±é…¬ã‚·ã‚¹ãƒ†ãƒ å®Ÿè£…**
  - LocalStorageçµ±è¨ˆè¨˜éŒ²
  - ã‚³ã‚¤ãƒ³ç²å¾—ã‚·ã‚¹ãƒ†ãƒ 
  - ç§°å·ã‚·ã‚¹ãƒ†ãƒ ï¼ˆ1ã¤ï¼‰
  - ã‚·ãƒ§ãƒƒãƒ—æ©Ÿèƒ½ï¼ˆ1ã‚¢ã‚¤ãƒ†ãƒ ï¼‰
  - ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»é¢
- ãƒ‡ãƒãƒƒã‚°
- ãƒ‡ãƒ—ãƒ­ã‚¤

---

## ğŸ“š å‚è€ƒè³‡æ–™

### å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- Next.js: https://nextjs.org/docs
- PeerJS: https://peerjs.com/docs/
- Framer Motion: https://www.framer.com/motion/
- Howler.js: https://howlerjs.com/
- Zustand: https://github.com/pmndrs/zustand

### å‚è€ƒè¨˜äº‹
- ã‚µãƒ¼ãƒãƒ¼ä»£0å††ï¼ P2Pã¨ç„¡æ–™ã‚µãƒ¼ãƒ“ã‚¹ã ã‘ã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å¯¾æˆ¦ã‚ªã‚»ãƒ­ã‚’ä½œã£ãŸè©±
  https://zenn.dev/kinnkinn/articles/ff844e4d9e3ce4

---

## ğŸ†˜ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### P2Pæ¥ç¶šãŒç¢ºç«‹ã—ãªã„
- Renderã®ã‚·ã‚°ãƒŠãƒªãƒ³ã‚°ã‚µãƒ¼ãƒãƒ¼ãŒèµ·å‹•ã—ã¦ã„ã‚‹ã‹ç¢ºèª
- ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚½ãƒ•ãƒˆã®è¨­å®šç¢ºèª
- ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ã‚¨ãƒ©ãƒ¼ç¢ºèª

### éŸ³ãŒé³´ã‚‰ãªã„
- ãƒ–ãƒ©ã‚¦ã‚¶ã®autoplay policyï¼ˆè‡ªå‹•å†ç”Ÿãƒãƒªã‚·ãƒ¼ï¼‰
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³å¾Œã«å†ç”Ÿé–‹å§‹

### ã‚²ãƒ¼ãƒ çŠ¶æ…‹ãŒåŒæœŸã—ãªã„
- P2Pãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®é€å—ä¿¡ãƒ­ã‚°ç¢ºèª
- ä¸¡è€…ã®ãƒ­ã‚¸ãƒƒã‚¯ãŒä¸€è‡´ã—ã¦ã„ã‚‹ã‹ç¢ºèª
- ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã§å‡¦ç†é †åºã‚’æ¤œè¨¼

---

## ğŸ“„ å¤‰æ›´å±¥æ­´

| æ—¥ä»˜ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | å¤‰æ›´å†…å®¹ |
|------|-----------|----------|
| 2025-10-31 | 1.0 | åˆç‰ˆä½œæˆ |

---

**ä»¥ä¸Šã€ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆæ›¸ã§ã—ãŸã€‚**